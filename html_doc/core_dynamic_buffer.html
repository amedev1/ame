<!DOCTYPE html>
<!-- Generated by ame util library - using PrismJS 1.20.0 -->
<html>
<head>
	<meta charset="UTF-8">
	<title>Another Memory Ends</title>
	<link rel="stylesheet" type="text/css" href="../CSS/docgen_style.css">
	<link rel="stylesheet" type="text/css" href="../CSS/prism.css">
</head>
<body>
	<script src="../JS/prism.js">
	</script>
	<h1>dynamic buffer</h1>
	<br>
	<p>dbuffer: dynamic buffer (based on Sean Barrett's stretchy buffer https:github.com/nothings/stb/blob/master/stretchy_buffer.h)</p>
	<br>
	<section class="main">
		<h2 id="core_dynamic_buffer_dbuffer_free">dbuffer_free</h2>
		<pre><code class="language-c">#define dbuffer_free(p)    ((p) ? (mem_free(dbuffer_raw(p)), *((void **)&(p)) = 0) : 0)</code></pre>
		<description><b>type:</b> <i>C preprocessor definition</i></description>
		<br>
		<description><b>description: </b>clear dynamic buffer memory</description>
		<h2 id="core_dynamic_buffer_dbuffer_push">dbuffer_push</h2>
		<pre><code class="language-c">#define dbuffer_push(p, v) (dbuffer_maybe_grow(p,1), (p)[dbuffer_length(p)++] = (v))</code></pre>
		<description><b>type:</b> <i>C preprocessor definition</i></description>
		<br>
		<description><b>description: </b>push value to dynamic buffer</description>
		<h2 id="core_dynamic_buffer_dbuffer_count">dbuffer_count</h2>
		<pre><code class="language-c">#define dbuffer_count(p)   ((p) ? dbuffer_length(p) : 0)</code></pre>
		<description><b>type:</b> <i>C preprocessor definition</i></description>
		<br>
		<description><b>description: </b>count elements in dynamic buffer</description>
		<h2 id="core_dynamic_buffer_dbuffer_empty">dbuffer_empty</h2>
		<pre><code class="language-c">#define dbuffer_empty(p)   (dbuffer_count(p) == 0)</code></pre>
		<description><b>type:</b> <i>C preprocessor definition</i></description>
		<br>
		<description><b>description: </b>dynamic buffer empty</description>
		<h2 id="core_dynamic_buffer_dbuffer_add">dbuffer_add</h2>
		<pre><code class="language-c">#define dbuffer_add(p, n)  (dbuffer_maybe_grow(p,n), dbuffer_length(p)+=(n), &(p)[dbuffer_length(p)-(n)])</code></pre>
		<description><b>type:</b> <i>C preprocessor definition</i></description>
		<br>
		<description><b>description: </b>add element in dynamic buffer and return pointer</description>
		<h2 id="core_dynamic_buffer_dbuffer_last">dbuffer_last</h2>
		<pre><code class="language-c">#define dbuffer_last(p)    ((p)[dbuffer_length(p)-1])</code></pre>
		<description><b>type:</b> <i>C preprocessor definition</i></description>
		<br>
		<description><b>description: </b>last element of dynamic buffer</description>
		<h2 id="core_dynamic_buffer_dbuffer_pop">dbuffer_pop</h2>
		<pre><code class="language-c">#define dbuffer_pop(p)     ((p) ? (dbuffer_length(p) ? dbuffer_length(p)-- : 0) : 0)</code></pre>
		<description><b>type:</b> <i>C preprocessor definition</i></description>
		<br>
		<description><b>description: </b>remove last element of dynamic buffer</description>
		<h2 id="core_dynamic_buffer_dbuffer_get">dbuffer_get</h2>
		<pre><code class="language-c">#define dbuffer_get(p, n)  ((p) ? (n < dbuffer_length(p) ? &(p)[n] : 0) : 0)</code></pre>
		<description><b>type:</b> <i>C preprocessor definition</i></description>
		<br>
		<description><b>description: </b>get pointer to element of dynamic buffer</description>
		<h2 id="core_dynamic_buffer_dbuffer_reset">dbuffer_reset</h2>
		<pre><code class="language-c">#define dbuffer_reset(p)   ((p) ? (dbuffer_length(p) = 0) : 0)</code></pre>
		<description><b>type:</b> <i>C preprocessor definition</i></description>
		<br>
		<description><b>description: </b>reset dynamic buffer</description>
		<h2 id="core_dynamic_buffer_dbuffer_insert">dbuffer_insert</h2>
		<pre><code class="language-c">#define dbuffer_insert(p, n, v) (*((void **)&(p)) = dbuffer_insert_call((p), (n), sizeof(*(p))), (p)[n] = (v))</code></pre>
		<description><b>type:</b> <i>C preprocessor definition</i></description>
		<br>
		<description><b>description: </b>insert element at index in dynamic buffer</description>
		<h2 id="core_dynamic_buffer_dbuffer_add_at">dbuffer_add_at</h2>
		<pre><code class="language-c">#define dbuffer_add_at(p, n)    (*((void **)&(p)) = dbuffer_insert_call((p), (n), sizeof(*(p)))))</code></pre>
		<description><b>type:</b> <i>C preprocessor definition</i></description>
		<br>
		<description><b>description: </b>add element at index in dynamic buffer and return pointer</description>
		<h2 id="core_dynamic_buffer_dbuffer_remove">dbuffer_remove</h2>
		<pre><code class="language-c">#define dbuffer_remove(p, n)    (c_dbuffer_remove((p), (n), sizeof(*(p))))</code></pre>
		<description><b>type:</b> <i>C preprocessor definition</i></description>
		<br>
		<description><b>description: </b>remove element at index in dynamic buffer</description>
		<h2 id="core_dynamic_buffer_dbuffer_raw">dbuffer_raw</h2>
		<pre><code class="language-c">#define dbuffer_raw(p)   ((uint *) (void *) (p) - 2)</code></pre>
		<description><b>type:</b> <i>C preprocessor definition</i></description>
		<br>
		<description><b>description: </b>start address of dynamic buffer memory</description>
		<h2 id="core_dynamic_buffer_dbuffer_size">dbuffer_size</h2>
		<pre><code class="language-c">#define dbuffer_size(p)   dbuffer_raw(p)[0]</code></pre>
		<description><b>type:</b> <i>C preprocessor definition</i></description>
		<br>
		<description><b>description: </b>size of dynamic buffer (capacity)</description>
		<h2 id="core_dynamic_buffer_dbuffer_length">dbuffer_length</h2>
		<pre><code class="language-c">#define dbuffer_length(p) dbuffer_raw(p)[1]</code></pre>
		<description><b>type:</b> <i>C preprocessor definition</i></description>
		<br>
		<description><b>description: </b>length of dynamic buffer (current count)</description>
		<h2 id="core_dynamic_buffer_dbuffer_need_grow">dbuffer_need_grow</h2>
		<pre><code class="language-c">#define dbuffer_need_grow(p, n)  ((p)==0 || dbuffer_length(p)+(n) >= dbuffer_size(p))</code></pre>
		<description><b>type:</b> <i>C preprocessor definition</i></description>
		<br>
		<description><b>description: </b>check if dynamic buffer needs to grow</description>
		<h2 id="core_dynamic_buffer_dbuffer_maybe_grow">dbuffer_maybe_grow</h2>
		<pre><code class="language-c">#define dbuffer_maybe_grow(p, n) (dbuffer_need_grow(p,(n)) ? dbuffer_grow(p,n) : 0)</code></pre>
		<description><b>type:</b> <i>C preprocessor definition</i></description>
		<br>
		<description><b>description: </b>grow if dynamic buffers needs to grow</description>
		<h2 id="core_dynamic_buffer_dbuffer_grow">dbuffer_grow</h2>
		<pre><code class="language-c">#define dbuffer_grow(p, n)       (*((void **)&(p)) = dbuffer_grow_call((p), (n), sizeof(*(p))))</code></pre>
		<description><b>type:</b> <i>C preprocessor definition</i></description>
		<br>
		<description><b>description: </b>grow dynamic buffer</description>
		<h2 id="core_dynamic_buffer_dbuffer_grow_call">dbuffer_grow_call</h2>
		<pre><code class="language-c">#define dbuffer_grow_call(a, i, s) c_dbuffer_grow_debug(a, i, s, __FILENAME__, __LINE__)</code></pre>
		<description><b>type:</b> <i>C preprocessor definition</i></description>
		<br>
		<description><b>description: </b>call to grow dynamic buffer, different version with debug memory</description>
		<h2 id="core_dynamic_buffer_dbuffer_insert_call">dbuffer_insert_call</h2>
		<pre><code class="language-c">#define dbuffer_insert_call(a, i, s) c_dbuffer_insert_debug(a, i, s, __FILENAME__, __LINE__)</code></pre>
		<description><b>type:</b> <i>C preprocessor definition</i></description>
		<br>
		<description><b>description: </b>call to insert in dynamic buffer, different version with debug memory</description>
		<h2 id="core_dynamic_buffer_dbuffer_grow_call">dbuffer_grow_call</h2>
		<pre><code class="language-c">#define dbuffer_grow_call(a, i, s) c_dbuffer_grow(a, i, s)</code></pre>
		<description><b>type:</b> <i>C preprocessor definition</i></description>
		<h2 id="core_dynamic_buffer_dbuffer_insert_call">dbuffer_insert_call</h2>
		<pre><code class="language-c">#define dbuffer_insert_call(a, i, s) c_dbuffer_insert(a, i, s)</code></pre>
		<description><b>type:</b> <i>C preprocessor definition</i></description>
		<h2 id="core_dynamic_buffer_c_dbuffer_grow_debug">c_dbuffer_grow_debug</h2>
		<pre><code class="language-c">void *c_dbuffer_grow_debug(void *array, uint increment, size_t item_size, char *filename, uint line);</code></pre>
		<description><b>type:</b> <i>C function</i></description>
		<br>
		<description><b>description: </b>internal function to grow dynamic buffer - debug memory version</description>
		<h2 id="core_dynamic_buffer_c_dbuffer_insert_debug">c_dbuffer_insert_debug</h2>
		<pre><code class="language-c">void *c_dbuffer_insert_debug(void *array, uint index, size_t item_size, char *filename, uint line);</code></pre>
		<description><b>type:</b> <i>C function</i></description>
		<h2 id="core_dynamic_buffer_c_dbuffer_grow">c_dbuffer_grow</h2>
		<pre><code class="language-c">void *c_dbuffer_grow(void *array, uint increment, size_t item_size);</code></pre>
		<description><b>type:</b> <i>C function</i></description>
		<br>
		<description><b>description: </b>internal function to grow dynamic buffer</description>
		<h2 id="core_dynamic_buffer_c_dbuffer_insert">c_dbuffer_insert</h2>
		<pre><code class="language-c">void *c_dbuffer_insert(void *array, uint index, size_t item_size);</code></pre>
		<description><b>type:</b> <i>C function</i></description>
		<br>
		<description><b>description: </b>internal function to insert element in dynamic buffer</description>
		<h2 id="core_dynamic_buffer_c_dbuffer_remove">c_dbuffer_remove</h2>
		<pre><code class="language-c">void  c_dbuffer_remove(void *array, uint index, size_t item_size);</code></pre>
		<description><b>type:</b> <i>C function</i></description>
		<br>
		<description><b>description: </b>internal function to remove element in dynamic buffer</description>
	</section>
	<nav class="menu">
		<a href="../index.html">Home</a>
		<a href="cmake.html">cmake</a>
		<a href="ftest.html">ftest</a>
		<a href="math.html">math</a>
		<a href="core.html">core</a>
		<a class="section" href="core_defines.html">defines</a>
		<a class="section" href="core_main_functions.html">main functions</a>
		<a class="section" href="core_time.html">time</a>
		<a class="section" href="core_rng.html">rng</a>
		<a class="section" href="core_bit_operation.html">bit operation</a>
		<a class="section" href="core_algorithms.html">algorithms</a>
		<a class="section" href="core_memory.html">memory</a>
		<a class="section" href="core_strings.html">strings</a>
		<a class="section" href="core_path.html">path</a>
		<a class="section" href="core_byte_array.html">byte array</a>
		<a class="section" href="core_filesystem.html">filesystem</a>
		<a class="section" href="core_datetime.html">datetime</a>
		<a class="section" href="core_output.html">output</a>
		<a class="section" href="core_log.html">log</a>
		<a class="current_section" href="core_dynamic_buffer.html">dynamic buffer</a>
		<a class="section" href="core_compression.html">compression</a>
		<a class="section" href="core_commands.html">commands</a>
		<a class="section" href="core_multi-threading.html">multi-threading</a>
		<a class="section" href="core_streams.html">streams</a>
		<a href="image.html">image</a>
		<a href="graphics.html">graphics</a>
		<a href="util.html">util</a>
		<a href="framework.html">framework</a>
		<a href="documentation.html">documentation</a>
		<a href="learn_opengl_-_getting_started.html">learn_opengl - getting started</a>
		<a href="learn_opengl_-_lighting.html">learn_opengl - lighting</a>
	</nav>
	<footer>
		<p>Another Memory Ends - Reference</p>
	</footer>
</body>
</html>
